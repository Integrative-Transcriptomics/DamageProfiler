plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.8'
    id 'org.beryx.jlink' version '2.12.0'
}


repositories {
    mavenCentral()
}


dependencies {
    runtimeOnly "org.openjfx:javafx-graphics:$javafx.version:linux"
    compile group: 'log4j', name: 'log4j', version: '1.+'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.+'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.3.+'
    compile group: 'com.itextpdf', name: 'itextpdf', version: '5.5.+'
    compile group: 'com.github.samtools', name: 'htsjdk', version: '2.+'
    compile group: 'com.intellij', name: 'forms_rt', version: '5.+'
    compile group: 'com.github.broadinstitute', name: 'picard', version: '2.+'
    compile group: 'org.jfree', name: 'jfreesvg', version: '2.0'
    compile group: 'org.apache.commons', name: 'commons-text', version: '1.+'
    compile 'org.jfree:jfreechart-fx:1.+'
}

javafx {
    version = "14"
    modules = [ 'javafx.controls', 'javafx.fxml', 'javafx.graphics' ]
}

mainClassName = "org.damageprofiler.RunDamageProfiler"

jar {
    manifest {
        attributes 'Main-Class': 'org.damageprofiler.RunDamageProfiler'
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}